*
*NGSPICE simulation script
* BJT amp with feedback
*

* forces current values to be saved
.options savecurrents

*******************************************
.param pi = 3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593344612847564823

*we could go for 10 digits but..........
*go big or go home


*******************************************

Vc 1 0 dc sin(0 12 80)


D1 1 3 Default
D2 2 0 Default
D3 0 3 Default
D4 2 1 Default

C 2 3 10u
R 2 3 10k


.model Default D

*******************************************

.control

set hcopypscolor=0
set color0 = rgb:f/f/f   ;background, a nice color of white
set color1 = rgb:/1/1/1  ;text and grid almost black
set color2 = blue   ;vector0
set color3 = red   ;vector1
set color4 = green   ;vector2

echo "********************************************"
echo  "Transient Analysis"
echo "********************************************"


tran 0.5m 50m

hardcopy trans_forc.ps v(1) {v(3)-V(2)}
echo trans_forc_FIG


quit
.endc

.end
